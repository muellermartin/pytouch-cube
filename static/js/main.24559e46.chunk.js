(this["webpackJsonppytouch3-web"]=this["webpackJsonppytouch3-web"]||[]).push([[0],{157:function(e,t,n){},159:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(57),r=n.n(o),i=(n(157),n(22)),s=n(13),l=n(9),j=n(14),u=n(12),d=n.n(u),b=n(133),f=(n(159),n(160),n(193)),O=n(169),h=function(e,t,n,c,a){"undefined"===typeof n&&(n=128);for(var o=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=0;r<o.data.length;r+=4){var i=o.data[r+3]>n,s=(o.data[r]+o.data[r+1]+o.data[r+2])/3,l=!!a!==(i&&s<n!==!!c)?255:0;o.data[r+0]=t[0],o.data[r+1]=t[1],o.data[r+2]=t[2],o.data[r+3]=l}e.putImageData(o,0,0)},x=n(2),g=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(f.a,{children:Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Image:"}),Object(x.jsx)(O.a,{content:"Browse..."})]})})})},v=function(e){var t=e.data,n=e.data,a=n.threshold,o=n.inverted,r=n.image,i=Object(c.useState)(200),s=Object(l.a)(i,2),j=s[0],u=s[1],d=Object(c.useState)(!1),b=Object(l.a)(d,2),f=b[0],O=b[1],g=Object(c.useState)(!1),v=Object(l.a)(g,2),p=v[0],m=v[1],y=Object(c.useRef)(null),w=Object(c.useRef)(null);Object(c.useEffect)((function(){var n,c=null===(n=w.current)||void 0===n?void 0:n.getContext("2d");if(c&&y.current&&f){if(p)return c.canvas.width=100,u(100),c.font="40px sans-serif",c.fillText("\ud83d\ude22",20,50),void console.log("No image :(");var r=y.current.width,i=y.current.height;c.imageSmoothingEnabled=!1,c.clearRect(0,0,c.canvas.width,c.canvas.height);var s=r*(68/i);if(s!==j)return c.canvas.width=s,c.canvas.height=68,c.clearRect(0,0,c.canvas.width,c.canvas.height),void u(s);c.drawImage(y.current,0,0,s,68),j<=0||h(c,e.color,a,o,t.mask)}}),[w,j,r,a,o,f,e.color,t.mask,p]),Object(c.useEffect)((function(){O(!1)}),[r]);var k=function(){O(!0),m(!0)};return Object(c.useEffect)((function(){var e=y.current;if(e)return e.addEventListener("error",k),function(){return e.removeEventListener("error",k)}}),[y]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{ref:y,src:r,crossOrigin:"anonymous",style:{display:"none"},alt:"",onLoad:function(){return O(!0)}}),Object(x.jsx)("canvas",{ref:w,style:{imageRendering:"pixelated",height:"140px"}})]})},p=n(136),m=n(187),y=n(192),w=n(42),k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return{key:e,value:e,text:e[0].toUpperCase()+e.substring(1)}}))},C=["serif","sans-serif","monospace"],S=["Rating","Step","outline-icons","Icons","Checkbox","Dropdown","brand-icons","Accordion"],F=function(e){var t=e.data,n=t.text,a=t.font,o=t.threshold,r=t.inverted,i=Object(c.useState)(200),s=Object(l.a)(i,2),j=s[0],u=s[1],d=Object(c.useRef)(null);return Object(c.useEffect)((function(){var t,c=null===(t=d.current)||void 0===t?void 0:t.getContext("2d");if(c){c.imageSmoothingEnabled=!1;try{if(!document.fonts.check(a))return}catch(b){return}c.clearRect(0,0,c.canvas.width,c.canvas.height),c.font=a;var r=c.measureText(n),i=Math.ceil(r.width);if(c.canvas.width!==i)return console.log(r.width,"!=",j,c.canvas.width,i,"(".concat(n,") FONT: ").concat(a)),c.canvas.width=i,c.clearRect(0,0,c.canvas.width,c.canvas.height),void u(i);var s=r.fontBoundingBoxAscent+r.fontBoundingBoxDescent+r.fontBoundingBoxDescent,l=(c.canvas.height-s)/2;c.fillText(n,0,l+r.actualBoundingBoxAscent+r.fontBoundingBoxDescent,j),j<=0||(h(c,e.color,o,!1,e.data.mask),"development"===p.env.NODE_ENV&&(c.moveTo(0,l),c.lineTo(j,l),c.moveTo(0,l+r.fontBoundingBoxDescent),c.lineTo(j,l+r.fontBoundingBoxDescent),c.moveTo(0,l+r.fontBoundingBoxAscent+r.fontBoundingBoxDescent),c.lineTo(j,l+r.fontBoundingBoxAscent+r.fontBoundingBoxDescent),c.moveTo(0,l+s),c.lineTo(j,l+s),c.strokeStyle="#ff000030",c.stroke()))}}),[d,j,n,a,o,r,e.color,e.data.mask]),Object(x.jsx)("canvas",{ref:d,style:{imageRendering:"pixelated",height:"140px"}})},E=function(e){var t=e.data,n=e.setData,a=Object(c.useState)(),o=Object(l.a)(a,2),r=o[0],i=o[1],u=Object(c.useState)(),d=Object(l.a)(u,2),b=d[0],O=d[1];Object(c.useEffect)((function(){var e=t.font.split(" "),n=Object(l.a)(e,2),c=n[0],a=n[1];r||i(a);var o=/([0-9]+)(.*)/.exec(c);if(o&&!b){var s=parseInt(o[1]);O(s)}}),[t.font,r,b]),Object(c.useEffect)((function(){if(r&&b){var e="".concat(b,"px ").concat(r);t.font!==e&&n(Object(j.a)(Object(j.a)({},t),{},{font:e}))}}),[r,b,t,n]);var h=Object(c.useMemo)((function(){var e=new Set(Array.from(document.fonts.entries()).map((function(e){var t=Object(l.a)(e,2),n=t[0];t[1];return n.family})).filter((function(e){return!S.includes(e)}))),t=[].concat(C,Object(s.a)(e)).sort((function(e,t){return n=e.toLowerCase(),c=t.toLowerCase(),n<c?-1:n>c?1:0;var n,c}));return k.apply(void 0,Object(s.a)(t))}),[]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(f.a,{style:{minWidth:"400px"},children:[Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Text"}),Object(x.jsx)(m.a,{type:"text",value:t.text,onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{text:e.target.value}))}})]}),Object(x.jsxs)(f.a.Group,{widths:"equal",children:[Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Font"}),Object(x.jsx)(y.a,{selection:!0,search:!0,value:r,options:h,onChange:function(e,t){var n;return i(null===(n=t.value)||void 0===n?void 0:n.toString())}})]}),Object(x.jsxs)(f.a.Field,{width:"6",children:[Object(x.jsx)("label",{children:"Size"}),Object(x.jsx)(m.a,{type:"number",value:b,onKeyDownCapture:function(e){"number"===typeof b&&("ArrowUp"===e.key?O((function(e){return B(e,1)})):"ArrowDown"===e.key?O((function(e){return B(e,-1)})):console.log(e.key))},onWheel:function(e){console.log(e.deltaY,e.deltaMode),O((function(t){return B(t,e.deltaY<0?1:-1)}))},labelPosition:"right",label:"px"})]})]}),Object(x.jsx)(w.a,{href:"".concat("/pytouch-cube","/fonts"),children:"Add additional fonts..."})]})})},B=function(e,t){return"number"!==typeof e?e:Math.max(e+t,1)},T=n(170),R=function(e){var t,n=e.data,c=e.setData;return Object(x.jsxs)(f.a,{children:[Object(x.jsxs)(f.a.Group,{widths:"equal",children:[Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(T.a,{toggle:!0,checked:n.inverted,label:"Inverted",disabled:"text"===n.type,onChange:function(e,t){return c(Object(j.a)(Object(j.a)({},n),{},{inverted:!!t.checked}))}})}),Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(T.a,{toggle:!0,checked:n.mask,label:"Mask",onChange:function(e,t){return c(Object(j.a)(Object(j.a)({},n),{},{mask:!!t.checked}))}})})]}),Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(T.a,{toggle:!0,checked:n.rotated,disabled:!0,label:"Rotated"})}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Flipped:"}),Object(x.jsxs)(f.a.Group,{widths:"equal",children:[Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(T.a,{toggle:!0,checked:n.flippedHorizontal,disabled:!0,label:"Horizontal"})}),Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(T.a,{toggle:!0,checked:n.flippedVertical,disabled:!0,label:"Vertical"})})]})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Threshold"}),Object(x.jsx)(m.a,{type:"range",min:"0",max:"254",value:null!==(t=n.threshold)&&void 0!==t?t:128,onChange:function(e,t){return c(Object(j.a)(Object(j.a)({},n),{},{threshold:parseInt(t.value,10)}))}})]})]})},D=n(189),L=n(200),I=n(89),P=n(198),A=n(201),M=n(191),N=n(186),U=n(196),z=n(190),H=n(188),_=n(199),G=n(195),V=n(203),W=n(90),q=["handwriting","sans-serif","serif","monospace","display"],K={handwriting:"orange","sans-serif":"blue",serif:"pink",monospace:"violet",display:"green"},Y=function(e){var t=e.webFonts,n=e.setWebFonts,a=Object(c.useState)(),o=Object(l.a)(a,2),r=o[0],j=o[1],u=Object(c.useState)(10),b=Object(l.a)(u,2),f=b[0],O=b[1],h=Object(c.useState)(1),g=Object(l.a)(h,2),v=g[0],p=g[1],y=Object(c.useState)(""),w=Object(l.a)(y,2),k=w[0],C=w[1],S=Object(c.useMemo)((function(){return t.map((function(e){return e.family}))}),[t]),F=Object(c.useState)(q),E=Object(l.a)(F,2),B=E[0],R=E[1];Object(c.useEffect)((function(){Object(i.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./googlefonts.json",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).items.forEach((function(e){q.includes(e.category)||console.warn('Unknown font category in payload for font "'.concat(e.family,'": "').concat(e.category,'". It will not be displayed.'))})),j(n.items);case 8:case"end":return e.stop()}}),e)})))()}),[]);var D=function(e){return function(t,n){var c,a,o=n.checked;return c=e,a=!!o,R((function(e){return[].concat(Object(s.a)(e.filter((function(e){return e!==c}))),Object(s.a)(a?[c]:[]))}))}},L=Object(c.useMemo)((function(){return(null!==r&&void 0!==r?r:[]).filter((function(e){return!S.includes(e.family)&&B.includes(e.category)&&e.family.toLowerCase().includes(k)}))}),[r,B,k,S]),I=Object(c.useMemo)((function(){return(null!==r&&void 0!==r?r:[]).filter((function(e){return S.includes(e.family)}))}),[r,S]),A=Object(c.useMemo)((function(){return Math.ceil(L.length/f)}),[L,f]),M=function(e,t){return n((function(n){return[].concat(Object(s.a)(n.filter((function(t){return t.family!==e.family}))),Object(s.a)(t?[e]:[]))}))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(P.a,{attached:"top",loading:!r,children:[Object(x.jsx)("div",{children:Object(x.jsx)(m.a,{type:"text",placeholder:"Filter fonts...",fluid:!0,value:k,onChange:function(e){return C(e.target.value.toLowerCase())}})}),Object(x.jsx)(H.a,{}),Object(x.jsx)("div",{children:Object(x.jsxs)(_.a,{widths:"equal",stretched:!0,columns:q.length+1,children:[Object(x.jsx)(_.a.Column,{width:"2",children:Object(x.jsx)("label",{children:"Categories: "})}),q.map((function(e){return Object(x.jsx)(_.a.Column,{children:Object(x.jsx)(T.a,{className:"capitalized",label:e,checked:B.includes(e),onChange:D(e)})},e)}))]})})]}),Object(x.jsx)(G.a,{attached:!0,compact:!0,children:Object(x.jsxs)(G.a.Body,{children:[Object(x.jsxs)(G.a.Row,{children:[Object(x.jsx)(G.a.HeaderCell,{children:"Selected:"}),Object(x.jsx)(G.a.HeaderCell,{})]}),I.length>0?I.map((function(e){return Object(x.jsx)(J,{selected:S.includes(e.family),onToggle:function(t){return M(e,!1)},font:e},e.family)})):Object(x.jsxs)(G.a.Row,{children:[Object(x.jsx)(G.a.Cell,{}),Object(x.jsx)(G.a.Cell,{}),Object(x.jsx)(G.a.Cell,{children:"No fonts selected"}),Object(x.jsx)(G.a.Cell,{}),Object(x.jsx)(G.a.Cell,{})]}),Object(x.jsxs)(G.a.Row,{children:[Object(x.jsx)(G.a.HeaderCell,{children:"Add:"}),Object(x.jsx)(G.a.HeaderCell,{})]}),r&&L.filter((function(e,t){return t>=f*(v-1)&&t<f*v})).map((function(e,t){return Object(x.jsx)(J,{selected:S.includes(e.family),onToggle:function(t){return M(e,!0)},font:e},e.family)}))]})}),Object(x.jsx)(P.a,{attached:"bottom",children:Object(x.jsxs)(_.a,{children:[Object(x.jsxs)(_.a.Column,{verticalAlign:"bottom",width:"13",children:[Object(x.jsx)("label",{children:"Pages:"}),Object(x.jsx)("br",{}),Object(x.jsx)(V.a,{boundaryRange:2,siblingRange:2,activePage:v,totalPages:A,onPageChange:function(e,t){return p(t.activePage?Number(t.activePage):1)}})]}),Object(x.jsx)(_.a.Column,{verticalAlign:"bottom",width:"3",children:Object(x.jsxs)(m.a,{fluid:!0,labelPosition:"right",type:"number",value:f,onChange:function(e,t){return O(e.target.valueAsNumber)},children:[Object(x.jsx)("input",{}),Object(x.jsxs)(W.a,{className:"normal-weight",basic:!0,children:["of ",Object(x.jsx)("strong",{children:L.length})]})]})})]})})]})},J=function(e){var t=e.font,n=e.selected,c=e.onToggle,a=t.category,o=t.family,r=t.variants;return Object(x.jsxs)(G.a.Row,{children:[Object(x.jsx)(G.a.Cell,{width:"1",children:Object(x.jsx)(T.a,{style:{},toggle:!0,checked:n,onChange:function(e,t){return c(!!t.checked)}})}),Object(x.jsx)(G.a.Cell,{children:Object(x.jsx)(A.a,{children:o})}),Object(x.jsx)(G.a.Cell,{children:Object(x.jsx)(X,{size:"22px",font:t})}),Object(x.jsx)(G.a.Cell,{children:Object(x.jsxs)("small",{title:r.join(", "),children:[r.length," variant(s)"]})}),Object(x.jsx)(G.a.Cell,{children:Object(x.jsx)(W.a,{className:"capitalized",content:a,size:"tiny",color:K[a]})})]})},X=function(e){var t=e.font,n=e.size;return Object(c.useEffect)((function(){var e=t.variants.map((function(e){var n=new URL(t.files[e]);n.protocol=document.location.protocol;var c=new FontFace(t.family,"URL(".concat(n,")"));return console.log('Loading font "'.concat(t.family,'" (').concat(e,") from ").concat(n)),c.load().then((function(n){console.log('Loaded "'.concat(t.family,'" variant: ').concat(e,"!")),document.fonts.add(n)})),c}));return function(){e.forEach((function(e){console.log('Unloading "'.concat(e.family," // ").concat(e.featureSettings," // ").concat(e.style,"!")),document.fonts.delete(e)}))}}),[t.family,t.variants,t.files]),Object(x.jsx)("div",{style:{fontFamily:t.family,fontSize:n},children:"Lorem j\xe4vla ipsum vafan"})},Q={marginTop:0,marginBottom:0,marginLeft:0,marginRight:0},Z=[Object(j.a)({key:"t1",type:"text",text:"Hello?",font:"40px sans-serif"},Q),Object(j.a)({key:"t2",type:"text",text:"Text with space",font:"40px sans-serif"},Q),Object(j.a)({key:"i1",type:"image",image:"./shoutrrr.png"},Q),Object(j.a)({key:"t3",type:"text",text:"Wow!!",font:"40px sans-serif"},Q)];var $=function(){var e,t=Object(c.useState)(Z),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(),i=Object(l.a)(r,2),j=i[0],u=i[1],d=Object(c.useState)([]),b=Object(l.a)(d,2),f=b[0],h=b[1],p=Object(c.useState)("#ffffff"),m=Object(l.a)(p,2),y=m[0],k=m[1],C=Object(c.useState)("#000000"),S=Object(l.a)(C,2),B=S[0],T=S[1],N=Object(c.useMemo)((function(){return[(e=parseInt(B.substring(1),16))>>16&255,e>>8&255,255&e];var e}),[B]),U=Object(c.useState)(null),z=Object(l.a)(U,2),H=z[0],_=z[1],G=function(e){return o((function(t){return t.map((function(t){return t.key===e.key?e:t}))}))};return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(D.a,{children:[Object(x.jsxs)(L.a,{children:[Object(x.jsx)(w.a,{href:"".concat("/pytouch-cube","/label"),children:Object(x.jsx)(I.a,{content:"Label"})}),Object(x.jsx)(w.a,{href:"".concat("/pytouch-cube","/fonts"),children:Object(x.jsx)(I.a,{content:"Fonts"})}),Object(x.jsx)(w.a,{href:"".concat("/pytouch-cube","/printer"),children:Object(x.jsx)(I.a,{content:"Printer"})})]}),Object(x.jsx)(w.b,{path:"".concat("/pytouch-cube","/printer"),children:Object(x.jsx)(te,{})}),Object(x.jsx)(w.b,{path:"".concat("/pytouch-cube","/fonts"),children:Object(x.jsx)(Y,{webFonts:f,setWebFonts:h})}),Object(x.jsxs)(w.b,{path:"".concat("/pytouch-cube","/label"),children:[Object(x.jsx)(ne,{webFonts:f,onError:function(e){return u({title:"Error loading font",message:null===e||void 0===e?void 0:e.message})}}),Object(x.jsxs)(P.a,{children:[Object(x.jsxs)(A.a,{children:["Label editor",Object(x.jsx)("div",{style:{float:"right"},children:Object(x.jsxs)("label",{children:["BG:",Object(x.jsx)("input",{type:"color",value:y,onChange:function(e){return k(e.target.value)}})]})}),Object(x.jsx)("div",{style:{float:"right"},children:Object(x.jsxs)("label",{children:["FG:",Object(x.jsx)("input",{type:"color",value:B,onChange:function(e){return T(e.target.value)}})]})})]}),j&&Object(x.jsxs)("dialog",{children:[Object(x.jsx)("header",{children:j.title}),Object(x.jsx)("div",{children:null!==(e=j.message)&&void 0!==e?e:"Unknown error"})]}),Object(x.jsx)("div",{style:{overflowY:"visible",overflowX:"auto",background:"#e9e9e9",padding:"10px",boxShadow:"inset 1px 1px 4px #00000020"},children:Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",background:y,width:"fit-content",boxShadow:"1px 1px 4px #00000020"},children:[a.map((function(e){return Object(x.jsxs)(M.a,{on:"click",position:"bottom right",onOpen:function(){return _(e)},onClose:function(){return _(null)},trigger:Object(x.jsxs)("div",{className:"label-item".concat((null===H||void 0===H?void 0:H.key)===e.key?" selected":""),children:[Object(x.jsx)("div",{className:"indicator"}),"text"===e.type?Object(x.jsx)(F,{data:e,color:N}):"image"===e.type?Object(x.jsx)(v,{data:e,color:N}):Object(x.jsx)("div",{children:"Invalid item"}),Object(x.jsx)("div",{className:"indicator"})]}),children:[Object(x.jsx)(R,{data:e,setData:G}),"text"===e.type&&Object(x.jsx)(E,{data:e,setData:G}),"image"===e.type&&Object(x.jsx)(g,{data:e,setData:G})]},e.key)})),Object(x.jsx)("div",{style:{flex:"auto",opacity:.5,alignSelf:"stretch",display:"flex"},children:Object(x.jsx)(M.a,{on:"click",trigger:Object(x.jsx)(O.a,{icon:"plus",basic:!0,style:{boxShadow:"none",margin:0},size:"massive"}),children:Object(x.jsx)(ee,{onAdd:function(e){return o((function(t){return[].concat(Object(s.a)(t),[e])}))}})})})]})})]})]})]})})},ee=function(e){var t=e.onAdd,n=Object(c.useState)("text"),a=Object(l.a)(n,2),o=a[0],r=a[1],i=Object(c.useState)(""),s=Object(l.a)(i,2),u=s[0],d=s[1],b=Object(c.useMemo)((function(){return(new Date).getTime().toFixed(0)}),[]),h=Object(c.useMemo)((function(){return"image"===o?Object(j.a)(Object(j.a)({type:o,key:b},Q),{},{image:u}):Object(j.a)(Object(j.a)({type:o,key:b},Q),{},{text:u,font:"40px sans-serif"})}),[o,u,b]);return Object(x.jsxs)(f.a,{onSubmit:function(){return t(h)},style:{minWidth:"400px"},children:[Object(x.jsxs)(f.a.Group,{widths:"equal",children:[Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(N.a,{label:"Text",checked:"text"===o,onChange:function(){return r("text")}})}),Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(N.a,{label:"Image",checked:"image"===o,onChange:function(){return r("image")}})})]}),Object(x.jsxs)(f.a.Group,{widths:"equal",children:[Object(x.jsx)(f.a.Field,{width:12,children:Object(x.jsx)(m.a,{type:"text",fluid:!0,placeholder:"text"===o?"Enter text...":"https://...",value:u,onChange:function(e){return d(e.target.value)}})}),Object(x.jsx)(f.a.Field,{width:4,children:Object(x.jsx)(O.a,{type:"submit",content:"Add"})})]})]})},te=function(){var e,t=Object(b.a)(),n=t.register,a=t.handleSubmit,o=t.formState.errors,r=Object(c.useState)(),s=Object(l.a)(r,2),u=s[0],h=s[1],g=Object(c.useState)(),v=Object(l.a)(g,2),p=v[0],m=v[1];Object(c.useEffect)((function(){Object.values(o).every((function(e){return!e}))}),[o]);var w=function(e){console.log("Connected!",e.target)},C=function(e){console.log("Disconnected!",e.target)};Object(c.useEffect)((function(){if(u)return u.addEventListener("connect",w),u.addEventListener("disconnect",C),function(){u.removeEventListener("connect",w),u.removeEventListener("disconnect",C)}}),[u]);var S=function(){var e=Object(i.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serial.requestPort();case 3:return n=e.sent,console.log("Port:",Object(j.a)({},n)),console.log("Info:",n.getInfo()),h(n),e.next=9,n.open({baudRate:t.baudRate});case 9:console.log("Port connected(?)!"),console.log("Info:",n.getInfo()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),m({title:"Error connecting web serial",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(U.a,{fluid:!0,children:[Object(x.jsxs)(U.a.Header,{style:{padding:"10px"},children:[Object(x.jsx)(O.a,{floated:"right",color:"violet",size:"tiny",onClick:function(){return S()},children:"Update Ports"}),Object(x.jsx)(A.a,{floated:"left",children:"Printer communication"})]}),Object(x.jsx)(U.a.Content,{children:Object(x.jsxs)(f.a,{onSubmit:a(F),children:[Object(x.jsxs)(f.a.Group,{widths:"equal",children:[Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Baud Rate:"}),Object(x.jsx)(y.a,Object(j.a)({selection:!0,options:k("75","110","300","1200","2400","4800","9600","19200","38400","57600","115200"),defaultValue:"9600"},n("baudRate")))]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Data Bits:"}),Object(x.jsx)(y.a,Object(j.a)({selection:!0,options:k("5","6","7","8","9"),defaultValue:"8"},n("dataBits")))]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Flow control:"}),Object(x.jsx)(y.a,Object(j.a)({selection:!0,options:k("none","hardware"),defaultValue:"none"},n("flowControl")))]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Parity:"}),Object(x.jsx)(y.a,Object(j.a)({clearable:!0,selection:!0,options:k("none","odd","even","mark","space"),defaultValue:""},n("parity")))]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"Stop Bits:"}),Object(x.jsx)(y.a,Object(j.a)({clearable:!0,selection:!0,options:k("1","1.5","2"),defaultValue:""},n("stopBits")))]})]}),Object(x.jsx)(O.a,{type:"submit",content:"Connect"}),p&&Object(x.jsxs)("dialog",{children:[Object(x.jsx)("header",{children:p.title}),Object(x.jsx)("div",{children:null!==(e=p.message)&&void 0!==e?e:"Unknown error"})]})]})})]})},ne=function(e){var t=e.webFonts,n=e.onError,a=Object(c.useState)(!0),o=Object(l.a)(a,2),r=o[0],s=o[1];return Object(c.useEffect)((function(){var e=t.flatMap((function(e){return e.variants.map((function(t){var n=new URL(e.files[t]);n.protocol=document.location.protocol;var c=new FontFace(e.family,"URL(".concat(n,")"));return console.log('Loading font "'.concat(e.family,'" (').concat(t,") from ").concat(n)),c}))}));return Promise.all(e.map(function(){var e=Object(i.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.load();case 3:console.log('Loaded "'.concat(t.family,'"!')),document.fonts.add(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())).then((function(){return s(!1)})),function(){e.forEach((function(e){console.log('Unloading "'.concat(e.family," // ").concat(e.featureSettings," // ").concat(e.style,"!")),document.fonts.delete(e)}))}}),[t,n]),Object(x.jsx)(z.a,{active:r})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))},ae="yes"===Object({NODE_ENV:"production",PUBLIC_URL:"/pytouch-cube",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STRICT_MODE?a.a.StrictMode:a.a.Fragment;r.a.render(Object(x.jsx)(ae,{children:Object(x.jsx)($,{})}),document.getElementById("root")),ce()}},[[168,1,2]]]);
//# sourceMappingURL=main.24559e46.chunk.js.map